<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Sliding Login</title>

    <link rel="stylesheet" href="./style.css" />
    <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"/> -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  </head>

  <body>
    <!-- <div class="rabbit">
      <img src="./ca_logo.png" alt="">
    </div> -->
    <center>
      <div class="container" id="container" style="margin-top: 20vh;">
        <div class="form-container sign-up-container">
          <!-- Sign Up form code goes here -->
          <form onsubmit="return false">
            <h1>Your Hack Account</h1>
            <input type="text" placeholder="UserName" name="user_name" id="user_name"/>
            <input type="text" placeholder="Name" name="name" id="name"/>
            <input type="text" placeholder="Gender" name="gender" id="gender" value="NULL" hidden/>
            <input type="number" placeholder="Phone" name="phone" id="phone"/>
            <input type="email" placeholder="Email" name="email" id="email"/>
            <input type="password" placeholder="Password" name="password" id="password"/>
            <input type="number" placeholder="Pin" name="pin" id="pin" value="123" hidden/>
            <input type="text" placeholder="Photo" name="photo" value="NULL" id="photo" hidden/>
            <input type="text" placeholder="GithubHandle" name="Github_Handle" id="github_handle" value="NULL" hidden />
            <select type="text" placeholder="choose Your Type" id="user_type" class="form-control form-control-lg">
              <option value="Host">Host The Hack</option>
              <option value="User">Participate In The Hack</option>
            </select>
            <!-- <input type="number" name="Skill_id" value> -->
            <button type="submit" onclick="return signUp();">Sign Up</button>
          </form>
        </div>
        <div class="form-container sign-in-container">
          <!-- Sign In form code goes here -->
          <form onsubmit="return false">
            <h1>Sign in</h1>

            <input type="email" placeholder="Email" name="email" id="emailIn"/>
            <input type="password" placeholder="Password" name="password" id="passwordIn"/>
            <a href="#">Forgot your password?</a>
            <button onclick="return signIn();">Sign In</button>
          </form>
        </div>
          <div class="overlay-container">
            <!-- The overlay code goes here -->
            <div class="overlay">
              <div class="overlay-panel overlay-left">
                <h1>Welcome Back!</h1>
                <p>
                  Please login
                </p>
                <button class="ghost" id="signIn">Sign In</button>
              </div>
              <div class="overlay-panel overlay-right">
                <h1>Welcome!</h1>
                <p>Please enter your personal details</p>
                <button class="ghost" id="signUp">Sign Up</button>
              </div>
            </div>
          </div>
      </div>
    </center>
  </div>
    >

  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js'></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js'></script>
  <script>

  function isEmailVerified(){
    //TODO: XHR for phone number verification
  }
  function isPhoneVerified(){
    //TODO: XHR for phone verification
  }
  function signUp(){ 
    
    var user_name = document.getElementById("user_name").value;
    var name = document.getElementById("name").value;
    var gender = document.getElementById("gender").value;
    var phone = parseInt(document.getElementById("phone").value);
    var is_otp_verified = false; 
    var email = document.getElementById("email").value;
    var is_email_verified = false;
    var password = document.getElementById("password").value;
    var pin = parseInt(document.getElementById("pin").value);
    var photo = document.getElementById("photo").value;
    var github_handle = document.getElementById("github_handle").value;
    var user_type = document.getElementById("user_type").value;
      axios.post("http://10.10.11.61:8080/ca/user",{
      user_name: user_name,
      name : name,
      gender : gender,
      phone : phone,
      is_otp_verified : is_otp_verified,
      email : email,
      is_email_verified : is_email_verified,
      password : password,
      pin : pin,
      photo : photo,
      github_handle : github_handle,
      user_type : user_type
    }).then(res=>{
        alert("Registered Sucessfully");
        window.location.pathname = '/home/helios/Desktop/github/webaThon/landingPage/index.html';
    }).catch(err=>{
      alert("Not Registered");
    })
  }
  function signIn(){
    //TODO: XHR:
    var phone = parseInt(document.getElementById("phone").value);
    var password = document.getElementById("password").value;
    axios.get(`/isRegisteredUser/${phone}`)
    .then(res=>{
      alert("Signing IN");
    }).catch(err=>{
      alert("Wrong credentials");
    })
  }
  </script>
  <script src="./script.js"></script>
  </body>
</html>
